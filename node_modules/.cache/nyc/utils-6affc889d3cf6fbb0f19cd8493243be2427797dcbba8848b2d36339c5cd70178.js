function cov_qdkcfzq7o(){var path="/Users/jeonhyeonseong/Documents/express-mysql-example/src/utils.js";var hash="c38d22836f5233ac68afb9da3a0d274584e22e8d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/jeonhyeonseong/Documents/express-mysql-example/src/utils.js",statementMap:{"0":{start:{line:1,column:25},end:{line:3,column:1}},"1":{start:{line:2,column:2},end:{line:2,column:60}},"2":{start:{line:5,column:24},end:{line:14,column:1}},"3":{start:{line:6,column:29},end:{line:6,column:74}},"4":{start:{line:7,column:17},end:{line:7,column:19}},"5":{start:{line:8,column:2},end:{line:12,column:3}},"6":{start:{line:8,column:15},end:{line:8,column:16}},"7":{start:{line:9,column:19},end:{line:9,column:37}},"8":{start:{line:10,column:19},end:{line:10,column:63}},"9":{start:{line:11,column:4},end:{line:11,column:41}},"10":{start:{line:11,column:27},end:{line:11,column:41}},"11":{start:{line:13,column:2},end:{line:13,column:12}},"12":{start:{line:16,column:19},end:{line:19,column:1}},"13":{start:{line:17,column:19},end:{line:17,column:59}},"14":{start:{line:18,column:2},end:{line:18,column:28}},"15":{start:{line:21,column:23},end:{line:23,column:1}},"16":{start:{line:22,column:2},end:{line:22,column:26}},"17":{start:{line:25,column:22},end:{line:25,column:49}},"18":{start:{line:25,column:32},end:{line:25,column:49}},"19":{start:{line:27,column:0},end:{line:33,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:1,column:25},end:{line:1,column:26}},loc:{start:{line:1,column:31},end:{line:3,column:1}},line:1},"1":{name:"(anonymous_1)",decl:{start:{line:5,column:24},end:{line:5,column:25}},loc:{start:{line:5,column:40},end:{line:14,column:1}},line:5},"2":{name:"(anonymous_2)",decl:{start:{line:16,column:19},end:{line:16,column:20}},loc:{start:{line:16,column:28},end:{line:19,column:1}},line:16},"3":{name:"(anonymous_3)",decl:{start:{line:21,column:23},end:{line:21,column:24}},loc:{start:{line:21,column:32},end:{line:23,column:1}},line:21},"4":{name:"(anonymous_4)",decl:{start:{line:25,column:22},end:{line:25,column:23}},loc:{start:{line:25,column:32},end:{line:25,column:49}},line:25}},branchMap:{"0":{loc:{start:{line:11,column:4},end:{line:11,column:41}},type:"if",locations:[{start:{line:11,column:4},end:{line:11,column:41}},{start:{line:11,column:4},end:{line:11,column:41}}],line:11}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c38d22836f5233ac68afb9da3a0d274584e22e8d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_qdkcfzq7o=function(){return actualCoverage;};}return actualCoverage;}cov_qdkcfzq7o();cov_qdkcfzq7o().s[0]++;const generateShortKey=()=>{cov_qdkcfzq7o().f[0]++;cov_qdkcfzq7o().s[1]++;return Math.random().toString(36).substr(6).toUpperCase();};cov_qdkcfzq7o().s[2]++;const getUniqueUrlKey=async conn=>{cov_qdkcfzq7o().f[1]++;const chkUrlDuplicateSql=(cov_qdkcfzq7o().s[3]++,"SELECT url_id from urls WHERE short_key = ?");const tryNum=(cov_qdkcfzq7o().s[4]++,20);cov_qdkcfzq7o().s[5]++;for(let i=(cov_qdkcfzq7o().s[6]++,0);i<tryNum;i++){const newKey=(cov_qdkcfzq7o().s[7]++,generateShortKey());const[rows]=(cov_qdkcfzq7o().s[8]++,await conn.query(chkUrlDuplicateSql,newKey));cov_qdkcfzq7o().s[9]++;if(rows.length===0){cov_qdkcfzq7o().b[0][0]++;cov_qdkcfzq7o().s[10]++;return newKey;}else{cov_qdkcfzq7o().b[0][1]++;}}cov_qdkcfzq7o().s[11]++;return"";};cov_qdkcfzq7o().s[12]++;const isValidUrl=url=>{cov_qdkcfzq7o().f[2]++;const urlRegex=(cov_qdkcfzq7o().s[13]++,/^(https?|chrome):\/\/[^\s$.?#].[^\s]*$/);cov_qdkcfzq7o().s[14]++;return urlRegex.test(url);};cov_qdkcfzq7o().s[15]++;const checkUrlLength=url=>{cov_qdkcfzq7o().f[3]++;cov_qdkcfzq7o().s[16]++;return url.length<500;};cov_qdkcfzq7o().s[17]++;const isEmptyResult=rows=>{cov_qdkcfzq7o().f[4]++;cov_qdkcfzq7o().s[18]++;return rows.length===0;};cov_qdkcfzq7o().s[19]++;module.exports={generateShortKey,getUniqueUrlKey,isValidUrl,isEmptyResult,checkUrlLength};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbImdlbmVyYXRlU2hvcnRLZXkiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJ0b1VwcGVyQ2FzZSIsImdldFVuaXF1ZVVybEtleSIsImNvbm4iLCJjaGtVcmxEdXBsaWNhdGVTcWwiLCJ0cnlOdW0iLCJpIiwibmV3S2V5Iiwicm93cyIsInF1ZXJ5IiwibGVuZ3RoIiwiaXNWYWxpZFVybCIsInVybCIsInVybFJlZ2V4IiwidGVzdCIsImNoZWNrVXJsTGVuZ3RoIiwiaXNFbXB0eVJlc3VsdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI4dkZBZVk7Z0hBZlosS0FBTUEsQ0FBQUEsZ0JBQWdCLENBQUcsSUFBTSwrQ0FDN0IsTUFBT0MsQ0FBQUEsSUFBSSxDQUFDQyxNQUFMLEdBQWNDLFFBQWQsQ0FBdUIsRUFBdkIsRUFBMkJDLE1BQTNCLENBQWtDLENBQWxDLEVBQXFDQyxXQUFyQyxFQUFQLENBQ0QsQ0FGRCxDLHVCQUlBLEtBQU1DLENBQUFBLGVBQWUsQ0FBRyxLQUFPQyxDQUFBQSxJQUFQLEVBQWdCLHdCQUN0QyxLQUFNQyxDQUFBQSxrQkFBa0IseUJBQUcsNkNBQUgsQ0FBeEIsQ0FDQSxLQUFNQyxDQUFBQSxNQUFNLHlCQUFHLEVBQUgsQ0FBWixDQUZzQyx1QkFHdEMsSUFBSyxHQUFJQyxDQUFBQSxDQUFDLHlCQUFHLENBQUgsQ0FBVixDQUFnQkEsQ0FBQyxDQUFHRCxNQUFwQixDQUE0QkMsQ0FBQyxFQUE3QixDQUFpQyxDQUMvQixLQUFNQyxDQUFBQSxNQUFNLHlCQUFHWCxnQkFBZ0IsRUFBbkIsQ0FBWixDQUNBLEtBQU0sQ0FBQ1ksSUFBRCwwQkFBUyxLQUFNTCxDQUFBQSxJQUFJLENBQUNNLEtBQUwsQ0FBV0wsa0JBQVgsQ0FBK0JHLE1BQS9CLENBQWYsQ0FBTixDQUYrQix1QkFHL0IsR0FBSUMsSUFBSSxDQUFDRSxNQUFMLEdBQWdCLENBQXBCLENBQXVCLHlEQUFPSCxDQUFBQSxNQUFQLENBQWMsQ0FBckMsZ0NBQ0QsQ0FQcUMsd0JBUXRDLE1BQU8sRUFBUCxDQUNELENBVEQsQyx3QkFXQSxLQUFNSSxDQUFBQSxVQUFVLENBQUlDLEdBQUQsRUFBUyx3QkFDMUIsS0FBTUMsQ0FBQUEsUUFBUSwwQkFBRyx3Q0FBSCxDQUFkLENBRDBCLHdCQUUxQixNQUFPQSxDQUFBQSxRQUFRLENBQUNDLElBQVQsQ0FBY0YsR0FBZCxDQUFQLENBQ0QsQ0FIRCxDLHdCQUtBLEtBQU1HLENBQUFBLGNBQWMsQ0FBSUgsR0FBRCxFQUFTLGdEQUM5QixNQUFPQSxDQUFBQSxHQUFHLENBQUNGLE1BQUosQ0FBYSxHQUFwQixDQUNELENBRkQsQyx3QkFJQSxLQUFNTSxDQUFBQSxhQUFhLENBQUlSLElBQUQsRUFBVSxzREFBQUEsQ0FBQUEsSUFBSSxDQUFDRSxNQUFMLEdBQWdCLENBQWhCLENBQWlCLENBQWpELEMsd0JBRUFPLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixDQUNmdEIsZ0JBRGUsQ0FFZk0sZUFGZSxDQUdmUyxVQUhlLENBSWZLLGFBSmUsQ0FLZkQsY0FMZSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGdlbmVyYXRlU2hvcnRLZXkgPSAoKSA9PiB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoNikudG9VcHBlckNhc2UoKTtcbn07XG5cbmNvbnN0IGdldFVuaXF1ZVVybEtleSA9IGFzeW5jIChjb25uKSA9PiB7XG4gIGNvbnN0IGNoa1VybER1cGxpY2F0ZVNxbCA9IFwiU0VMRUNUIHVybF9pZCBmcm9tIHVybHMgV0hFUkUgc2hvcnRfa2V5ID0gP1wiO1xuICBjb25zdCB0cnlOdW0gPSAyMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cnlOdW07IGkrKykge1xuICAgIGNvbnN0IG5ld0tleSA9IGdlbmVyYXRlU2hvcnRLZXkoKTtcbiAgICBjb25zdCBbcm93c10gPSBhd2FpdCBjb25uLnF1ZXJ5KGNoa1VybER1cGxpY2F0ZVNxbCwgbmV3S2V5KTtcbiAgICBpZiAocm93cy5sZW5ndGggPT09IDApIHJldHVybiBuZXdLZXk7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59O1xuXG5jb25zdCBpc1ZhbGlkVXJsID0gKHVybCkgPT4ge1xuICBjb25zdCB1cmxSZWdleCA9IC9eKGh0dHBzP3xjaHJvbWUpOlxcL1xcL1teXFxzJC4/I10uW15cXHNdKiQvO1xuICByZXR1cm4gdXJsUmVnZXgudGVzdCh1cmwpO1xufTtcblxuY29uc3QgY2hlY2tVcmxMZW5ndGggPSAodXJsKSA9PiB7XG4gIHJldHVybiB1cmwubGVuZ3RoIDwgNTAwO1xufTtcblxuY29uc3QgaXNFbXB0eVJlc3VsdCA9IChyb3dzKSA9PiByb3dzLmxlbmd0aCA9PT0gMDtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdlbmVyYXRlU2hvcnRLZXksXG4gIGdldFVuaXF1ZVVybEtleSxcbiAgaXNWYWxpZFVybCxcbiAgaXNFbXB0eVJlc3VsdCxcbiAgY2hlY2tVcmxMZW5ndGgsXG59O1xuIl19